<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" >
    <title></title>
</head>
<body>
<button id="loginBtn">登录</button>
<div></div>

<script>

    // // 1.页面加载完成的时候创建
    // var loginLayer = (function(){
    //     var div = document.createElement('div');
    //     div.innerHTML = '我是登录浮窗';
    //     div.style.display = 'none';
    //     document.body.appendChild(div);
    //     return div;
    // })();

    // document.getElementById('loginBtn').onclick = function(){
    //     loginLayer.style.display = 'block';
    // };

    // // 2.触发事件的时候创建
    // var createLoginLayer = function(){
    //     var div = document.createElement('div');
    //     div.innerHTML = '我是登录浮窗';
    //     div.style.display = 'none';
    //     document.body.appendChild(div);
    //     return div;
    // };

    // document.getElementById('loginBtn').onclick = function(){
    //     var loginLayer = createLoginLayer();
    //     loginLayer.style.display = 'block';
    // };


    // 3.判断是否已经创建过
    var createLoginLayer = (function(){
        var div;
        return function(){
            if(!div){
                div = document.createElement('div');
                div.innerHTML = '我是登录浮窗';
                div.style.display = 'none';
                document.body.appendChild(div);
            }

            return div;

        };
    })();

    document.getElementById('loginBtn').onclick = function(){
        var loginLayer = createLoginLayer();
        loginLayer.style.display = 'block';
    };

</script>
</body>
</html>